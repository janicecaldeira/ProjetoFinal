<!-- ● Uma página para cadastrar um novo item no catálogo; comando cadastrar adm.html
● Uma página para editar um item do catálogo; comando editar adm.html
● Uma modal para confirmar a deleção de um item do catálogo; comando confirmar deleção adm.html -->

<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/css/adm.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Funko Pop Vinyl | Adm</title>
</head>

<header class = "header" id= "header">
    <nav class="nav container">
        <div class="nav__menu" id="nav-menu">
            <ul class="nav__list">

                <li class="nav__item">
                    <a href="/" class="nav__link">.home </a>
                </li>

                <li class="nav__item">
                    <a href="/catalog" class="nav__link">.catalog</a>
                </li>

                <li class="nav__item">
                    <a href="/about" class="nav__link">.about</a>
                </li>   
            </ul>
        </div>
    </nav>

</header>

<body>

    <article id="msg">
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <ul class=flashes>
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
        {% endwith %}
    </article>

    <section id='adm'>
        <form action='/new' method="POST">
        <h1>Cadastre um novo Funko</h1>

            <label for="nome">Nome</label>
            <input type="text" placeholder="Nome do Funko" id="nome" name="funkoName">

            <label for="imagem">Imagem</label>
            <input type="text" placeholder="Link da imagem" id="imagem" name="funkoImg">

            <label for="link">Música</label>
            <input type="text" placeholder="Link da música" id="musica" name="music">

            <label for="descricao">Descrição</label>
            <textarea name="description" id="descricao" cols="30" rows="10" placeholder="Insira a descrição">
            </textarea>

            <button type="submit">Enviar</button>            
        </form>

        {% for f in funko %}
        <form action='/edit/{{f.id}}' method="POST">
            <h1>Edite o Funko</h1>
    
                <label for="nome">Nome</label>
                <input type="text" placeholder="Nome do Funko" id="nome" name="funkoName" value={{f.funkoName}}>
    
                <label for="imagem">Imagem</label>
                <input type="text" placeholder="Link da imagem" id="imagem" name="funkoImg" value={{f.funkoImg}}>
    
                <label for="link">Música</label>
                <input type="text" placeholder="Link da música" id="musica" name="music" value={{f.music}}>
    
                <label for="descricao">Descrição</label>
                <textarea name="description" id="descricao" cols="30" rows="10" placeholder="Insira a descrição">
                    {{f.description}}
                </textarea>
    
                <button type="submit">Atualizar</button>            
        </form>
        {% endfor %}

        {% if funko != '' %}
        <article id="lista">
            <table>

                <thead>
                    <tr>
                        <th>#</th>
                        <th>Nome</th>
                        <th>Imagem</th>
                        <th>Música</th>
                        <th>Descrição</th>
                        <th style="text-align:center">Edição</th>
                    </tr>
                </thead>

                <tbody>
                    {% for f in funko %}
                    <tr>
                        <td>{{f.id}}</td>
                        <td>{{f.funkoName}}</td>
                        <td><a href="{{f.imagem}}" target="_blank">{{f.funkoImg}}</a></td>
                        <td><a href="{{f.music}}" target="_blank">{{f.music}}</a></td>
                        <td>{{f.description}}</td>
                        <td>
                            <a href="/edit/{{f.id}}">Editar</a>
                            <a href="/delete/{{f.id}}">Apagar</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>

            </table>
        </article>
        {% endif %}
    </section>

    <footer class="footer__container">

        <div class="footer-right">

            <a href="https://github.com/janicecaldeira/ProjetoFinal/tree/main" target="_blank"><i class="uil uil-github"></i></a>

        </div>

        <div class="footer-left">

            <div class="footer-links">
                <a href="/">.home</a>
                <a href="/catalog">.catalog</a>
                <a href="/about">.about</a>
                <a href="/login">.admin</a>
            </div>

            <span>Grupo 2 &copy; 2021</span>
        </div>

    </footer>

    <script src="../static/js/adm.js"></script>

</body>

</html>