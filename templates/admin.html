<!-- ● Uma página para cadastrar um novo item no catálogo; comando cadastrar admin.html
● Uma página para editar um item do catálogo; comando editar admin.html
● Uma modal para confirmar a deleção de um item do catálogo; comando confirmar deleção admin.html -->


<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href = "../static/css/adm.css">
        <title>Admin</title>
    </head>

    <body class="body">

    {% if funkoEdit == undefined %}
    <article id="new">
        <form action='/new' method="POST">

            <h1>Cadastre um novo Funko</h1>
    
            <label for="nome">Nome</label>
            <input type="text" placeholder="Nome do Funko" id="nome" name="nome">
    
            <label for="imagem">Imagem</label>
            <input type="text" placeholder="Link da imagem" id="imagem" name="imagem">
    
            <label for="link">Música</label>
            <input type="text" placeholder="Link de áudio" id="musica" name="musica">
    
            <label for="descricao">Descrição</label>
            <textarea name="descricao" id="descricao" cols="30" rows="10"
                placeholder="Digite a descrição do Funko"></textarea>
    
            <button type="submit">Enviar</button>
    
        </form>
    </article>
    {% endif %}

        <article id="msg">
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <ul class=flashes>
                {% for message in messages %}
                <li>{{ message }}</li>
                {% endfor %}
            </ul>
            {% endif %}
            {% endwith %}
        </article>

        <script src='../static/js/script.js'></script>
    </body>

    <footer>
        <section class="modal">
            <div id="card">

                <a href="/" id="fechar"><i class="fa fa-times" aria-hidden="true"></i></a>
                <h2>Confirmação</h2>
                <hr>

                <p>Deseja realmente apagar: {{funko.id}} </p>
                <div id="btns">
                    <a class="btn-cancelar" id="close" href="/">Cancelar</a>
                    <a class="btn-apagar" href="/delete/{{funko.id}}">Apagar</a>
                </div>
            </div>
        </section>
    {% endif %}

    <script>
        setTimeout(() => {
            document.querySelector('#msg').style.display = 'none'
        }, 3000)

        const btnCriar = document.querySelector('#btn-criar')
        const btnListar = document.querySelector('#btn-listar')

        btnCriar.addEventListener('click', () => {
            document.querySelector('#new').style.display = 'flex'
            document.querySelector('#lista').style.display = 'flex'
        })

        btnListar.addEventListener('click', () => {
            document.querySelector('#new').style.display = 'flex'
            document.querySelector('#lista').style.display = 'flex'
        })

    </script>
</body>

</html>
        
    </footer>

</html>
